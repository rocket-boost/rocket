<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Importing...</title>
    <script>
        function doRedirect() {
            const urlParams = new URLSearchParams(window.location.search);
            const config = urlParams.get('config');
            if (config) {
                // Пытаемся открыть автоматически
                window.location.href = config;
                
                // Если через 2 секунды мы всё еще тут, показываем кнопку
                setTimeout(() => {
                    const btn = document.getElementById('manual-btn');
                    if (btn) btn.style.display = 'inline-block';
                    const loader = document.getElementById('loader');
                    if (loader) loader.style.display = 'none';
                }, 2000);
            }
        }
        window.onload = doRedirect;
    </script>
    <style>
        body { background:#0f0c29; color:white; text-align:center; padding-top:100px; font-family:sans-serif; }
        .btn { 
            display: none; background: #00dfd8; color: #0f0c29; padding: 15px 25px; 
            text-decoration: none; border-radius: 10px; font-weight: bold; margin-top: 20px; 
        }
        .spinner { 
            border: 4px solid rgba(255,255,255,0.1); border-top: 4px solid #00dfd8; 
            border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 0 auto 20px; 
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <div id="loader">
        <div class="spinner"></div>
        <p>Запуск приложения VPN...</p>
    </div>
    
    <a href="javascript:void(0)" onclick="location.href=new URLSearchParams(window.location.search).get('config')" class="btn" id="manual-btn">
        ОТКРЫТЬ ПРИЛОЖЕНИЕ
    </a>
</body>
</html>
